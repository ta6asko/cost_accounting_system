{"version":3,"sources":["../../src/pathname/parse.js"],"names":[],"mappings":";;;;;;;;;;AAAO,IAAM,4CAAkB,aAAlB;;AAGN,IAAM,sCAAe,EAAC,OAAO,GAAP,EAAY,OAAO,KAAP,EAAc,QAAQ,EAAR,EAA1C;;AAGb,IAAM,eAAe,SAAf,YAAe;SAAU,OAAO,OAAP,CAAe,qBAAf,EAAsC,MAAtC;CAAV;;AAGd,IAAM,kCAAa,SAAb,UAAa,GAAiB;MAAhB,8DAAQ,mBAAQ;;AACzC,MAAM,QAAQ,MAAM,KAAN,CAAY,eAAZ,CAAR,CADmC;;AAGzC,MAAI,CAAC,KAAD,EAAQ;AACV,WAAO,YAAP,CADU;GAAZ;;AAIA,MAAM,cAAc,MAAM,MAAN,CAAa,gBAAkB,IAAlB,EAA2B;QAAzB,mBAAyB;QAAlB,qBAAkB;;AAC1D,QAAI,KAAK,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,GAAtB,EAA2B;AAC7B,aAAO;AACL,eAAO,MAAM,MAAN,CAAa,UAAb,CAAP;AACA,6BAAY,4BAAS,KAAK,MAAL,CAAY,CAAZ,GAAiB,MAAtC;OAFF,CAD6B;KAA/B;;AAOA,WAAO;AACL,aAAO,MAAM,MAAN,CAAa,mBAAiB,IAAjB,CAAb,CAAP;AACA,oBAFK;KAAP,CAR0D;GAA3B,EAY9B,EAAC,OAAO,EAAP,EAAW,QAAQ,EAAR,EAZK,CAAd,CAPmC;;AAqBzC,SAAO;AACL,gBADK;AAEL,iBAAW,YAAY,KAAZ,MAAX;AACA,YAAQ,YAAY,MAAZ;GAHV,CArByC;CAAjB","file":"parse.js","sourcesContent":["export const routePartsRegex = /(:?[^/]+)/ig;\n\n\nexport const defaultRoute = {route: '/', regex: '^/$', params: {}};\n\n\nconst escapeRegExp = string => string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n\nexport const parseRoute = (route = '/') => {\n  const parts = route.match(routePartsRegex);\n\n  if (!parts) {\n    return defaultRoute;\n  }\n\n  const parsedRoute = parts.reduce(({regex, params}, part) => {\n    if (part.substr(0, 1) === ':') {\n      return {\n        regex: regex.concat('/([^/]+)'),\n        params: {...params, [part.substr(1)]: null}\n      };\n    }\n\n    return {\n      regex: regex.concat(escapeRegExp(`/${part}`)),\n      params\n    };\n  }, {regex: '', params: {}});\n\n  return {\n    route,\n    regex: `^${parsedRoute.regex}$`,\n    params: parsedRoute.params\n  };\n};\n"]}